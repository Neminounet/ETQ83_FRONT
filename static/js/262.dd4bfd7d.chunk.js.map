{"version":3,"file":"static/js/262.dd4bfd7d.chunk.js","mappings":"wOACA,EAAsC,0CAAtC,EAAqF,yB,SC0DrF,MAtDA,WAEI,IAAOA,GAAQC,EAAAA,EAAAA,YAAWC,EAAAA,GAAnBF,KAEPG,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAAkB,SAEhCI,IAAgB,OAAAC,EAAAC,MAAC,KAADC,UAAA,UAAAF,IAO9B,OAP8BA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAA/B,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GAC+BC,EAAAA,EAAAA,MAAc,KAAD,EAAlCL,EAAYE,EAAAI,KAEdf,EADDS,GAGa,IACf,wBAAAE,EAAAK,OAAA,GAAAR,EAAA,MACJL,MAAA,KAAAC,UAAA,CAiBD,SAAAa,IAFC,OAEDA,GAAAZ,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAVA,SAAAW,EAAqCC,GAAE,IAAAC,EAAA,OAAAd,EAAAA,EAAAA,KAAAI,MAAA,SAAAW,GAAA,cAAAA,EAAAT,KAAAS,EAAAR,MAAA,cAAAQ,EAAAR,KAAA,GACdS,EAAAA,EAAAA,IAAaH,GAAI,KAAD,GAA/BC,EAAMC,EAAAN,MACDQ,SACPC,QAAQC,IAAIL,EAAOG,SACnBtB,KAEAuB,QAAQE,MAAM,yBAA0BN,EAAOM,OAASN,EAAOO,QAClE,wBAAAN,EAAAL,OAAA,GAAAE,EAAA,MACJf,MAAA,KAAAC,UAAA,CAID,OAhBAwB,EAAAA,EAAAA,YAAU,WACN3B,GACJ,GAAG,KAeC4B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACID,EAAAA,EAAAA,MAAA,MAAIE,UAAU,cAAaD,SAAA,CAAC,kBAAgB/B,EAASiC,WACrDC,EAAAA,EAAAA,KAAA,OAAKF,UAAWG,EAA2BJ,SACtC/B,EAASoC,KAAI,SAAAC,GACV,OACIP,EAAAA,EAAAA,MAAA,OAAgBE,UAAWG,EAAUJ,SAAA,EACjCD,EAAAA,EAAAA,MAAA,MAAAC,SAAA,CAAKM,EAAEC,WAAW,IAAED,EAAEE,cACtBT,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,mBAAiBM,EAAEG,UACtBV,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,SAAQM,EAAEI,cACbX,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,aAAWM,EAAEK,WAAa,MAAQ,SACpCjD,EAAK2B,KAAOiB,EAAEjB,KACXc,EAAAA,EAAAA,KAAA,UAAQS,QAAS,kBA1BvC,SAE8BC,GAAA,OAAA1B,EAAAd,MAAC,KAADC,UAAA,CAwBewC,CAAsBR,EAAEjB,GAAG,EAAEW,SAAC,uBANnDM,EAAEjB,GAUpB,QAIhB,C","sources":["webpack://en-toute-quietude/./src/pages/Workspace/pages/UsersManager/UsersManager.module.css?b49c","pages/Workspace/pages/UsersManager/UsersManager.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersManagerContent\":\"UsersManager_usersManagerContent__F3LzN\",\"id\":\"UsersManager_id__uufr0\"};","import { useContext, useEffect, useState } from \"react\";\r\nimport { getAllUsers, deleteUserSU } from \"../../../../apis/user\";\r\nimport AuthContext from \"../../../../context/AuthContext\";\r\nimport styles from \"./UsersManager.module.css\";\r\n\r\nfunction UsersManager(){\r\n\r\n    const {user} = useContext(AuthContext);\r\n\r\n    const [ userList, setUserList ] = useState([]);\r\n\r\n    async function fetchAndSetUsers() {\r\n        const fetchedUsers = await getAllUsers();\r\n        if(fetchedUsers) {\r\n            setUserList(fetchedUsers);\r\n        } else {\r\n            setUserList([])\r\n        }\r\n    } \r\n  \r\n\r\n    useEffect(()=> {\r\n        fetchAndSetUsers()\r\n    }, [])\r\n\r\n    async function handleClickDeleteUser(id) {\r\n        const result = await deleteUserSU(id);\r\n        if (result.success) {\r\n            console.log(result.success)\r\n            fetchAndSetUsers()\r\n        } else {\r\n            console.error(\"Could not delete user:\", result.error || result.status);\r\n        }\r\n    }\r\n\r\n    // console.log(userList);\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"pl-20 pt-20\">Utilisateurs : {userList.length}</h3>\r\n            <div className={styles.usersManagerContent}>\r\n                {userList.map(u => {\r\n                    return (\r\n                        <div key={u.id} className={styles.id}>\r\n                            <h4>{u.first_name} {u.last_name}</h4>\r\n                            <p>Adresse email : {u.email}</p>\r\n                            <p>Tel : { u.telephone }</p>\r\n                            <p>Premium : {u.is_premium ? \"Oui\" : \"Non\"}</p>\r\n                            {user.id !== u.id && \r\n                                <button onClick={()=>  handleClickDeleteUser(u.id) }>Supprimer Compte</button>\r\n                            }\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UsersManager;"],"names":["user","useContext","AuthContext","_useState","useState","_useState2","_slicedToArray","userList","setUserList","fetchAndSetUsers","_fetchAndSetUsers","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fetchedUsers","wrap","_context","prev","next","getAllUsers","sent","stop","_handleClickDeleteUser","_callee2","id","result","_context2","deleteUserSU","success","console","log","error","status","useEffect","_jsxs","children","className","length","_jsx","styles","map","u","first_name","last_name","email","telephone","is_premium","onClick","_x","handleClickDeleteUser"],"sourceRoot":""}