"use strict";(self.webpackChunken_toute_quietude=self.webpackChunken_toute_quietude||[]).push([[298],{1298:function(e,r,s){s.r(r),s.d(r,{default:function(){return x}});var n=s(4165),a=s(1413),i=s(5861),t=s(6727),o=s(4695),l=s(1134),d=s(2791),c=s(1224),u=s(7689),m="Connexion_formContent__OG1y8",p="Connexion_formButton__bvNHb",h=s(184);var x=function(){var e=(0,d.useContext)(c.Z),r=e.login,s=e.user,x=t.Ry({email:t.Z_().required("Veuillez renseigner une adresse email.").email("L'adresse email doit \xeatre valide."),password:t.Z_().required("Le mot de passe est obligatoire")}),f=(0,l.cI)({defaultValues:{email:"",password:""},resolver:(0,o.X)(x)}),v=f.handleSubmit,g=f.register,j=f.setError,_=f.clearErrors,b=f.formState,w=b.errors,C=b.isSubmitting;function N(){return(N=(0,i.Z)((0,n.Z)().mark((function e(s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(),e.next=4,r(s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j("generic",{type:"generic",message:e.t0.non_field_errors[0]});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return(0,h.jsx)(h.Fragment,{children:s?(0,h.jsx)(u.Fg,{to:"/workspace"}):(0,h.jsx)("div",{className:"pagesContainer",children:(0,h.jsxs)("div",{className:"pagesContent",children:[(0,h.jsx)("h2",{children:"Connexion"}),(0,h.jsxs)("form",{onSubmit:v((function(e){return N.apply(this,arguments)})),children:[(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"email",children:"Adresse email"}),(0,h.jsx)("input",(0,a.Z)({type:"text",name:"email"},g("email"))),(null===w||void 0===w?void 0:w.email)&&(0,h.jsx)("p",{className:"form-error",children:w.email.message})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),(0,h.jsx)("input",(0,a.Z)({type:"password",name:"password"},g("password"))),(null===w||void 0===w?void 0:w.password)&&(0,h.jsx)("p",{className:"form-error",children:w.password.message})]}),w.generic&&(0,h.jsx)("div",{children:(0,h.jsx)("p",{className:"form-error",children:w.generic.message.toString()})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{disabled:C,className:p,children:"Se connecter"})})]})]})})})}}}]);
//# sourceMappingURL=298.c4341ac0.chunk.js.map